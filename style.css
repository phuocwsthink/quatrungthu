/* ===================== BODY & SKY LAYER (BLACKER BG FOR BRIGHTER STARS) ===================== */
body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100vh;
    font-family: "Segoe UI", sans-serif;
    position: relative;
    background: radial-gradient(circle at 50% 20%, #0b0b1a, #000); /* Blacker end for star contrast */
}

.sky {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, #000 0%, #001122 100%); /* Darker sky for vibrancy */
    z-index: 1;
    /* TODO: Add more gradients for aurora/effects here */
}

/* ===================== GALAXY LAYERS (30 LAYERS, MORE STARS, BRIGHTER TWINKLE) ===================== */
.galaxy-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
    pointer-events: none;
}

.galaxy-layer {
    position: absolute;
    width: 200%;
    height: 200px;
    top: 0;
    left: -50%;
    transform-origin: center;
    opacity: 0.6; /* Brighter for more sparkle */
    animation: galaxyRotate linear infinite;
}

.galaxy-layer span {
    position: absolute;
    display: block;
    background: radial-gradient(circle, #fff 0%, #ffeb99 30%, #ffd700 60%, transparent 80%); /* More layered glow */
    border-radius: 50%;
    width: 1.2px; /* Smaller for density */
    height: 1.2px;
    animation: twinkle 1.2s infinite alternate; /* Faster for lấp lánh */
    box-shadow: 0 0 10px rgba(255, 255, 255, 1); /* Stronger sparkle */
}

@keyframes galaxyRotate {
    0% { transform: rotate(0deg) translateX(-50px); }
    100% { transform: rotate(360deg) translateX(-50px); }
}

/* Detailed positions for each layer (expanded with more nth-child for density) */
.layer1 span:nth-child(1){top:10%; left:15%; width:2px; height:2px; animation-delay: 0s;}
.layer1 span:nth-child(2){top:25%; left:35%; width:1px; height:1px; animation-delay: 0.5s;}
.layer1 span:nth-child(3){top:40%; left:50%; width:2px; height:2px; animation-delay: 1s;}
.layer1 span:nth-child(4){top:60%; left:70%; width:1px; height:1px; animation-delay: 1.5s;}
.layer1 span:nth-child(5){top:80%; left:85%; width:2px; height:2px; animation-delay: 0.2s;}
.layer1 span:nth-child(6){top:5%; left:20%; width:1.5px; height:1.5px; animation-delay: 0.8s;}
.layer1 span:nth-child(7){top:30%; left:45%; width:1px; height:1px; animation-delay: 1.2s;}
.layer1 span:nth-child(8){top:55%; left:65%; width:2px; height:2px; animation-delay: 0.4s;}
.layer1 span:nth-child(9){top:70%; left:80%; width:1.5px; height:1.5px; animation-delay: 1.7s;}
.layer1 span:nth-child(10){top:15%; left:25%; width:1px; height:1px; animation-delay: 0.9s;}
.layer1 span:nth-child(11){top:45%; left:55%; width:1.5px; height:1.5px; animation-delay: 1.3s;}

/* Similar expansion for other layers (abbreviated, TODO: Add full for all) */
.layer2 span:nth-child(1){top:5%; left:20%; width:2px; height:2px; animation-delay: 0.3s; background: radial-gradient(circle, #ffccaa 0%, transparent 70%);}
.layer2 span:nth-child(2){top:15%; left:40%; width:1px; height:1px; animation-delay: 0.8s;}
.layer2 span:nth-child(3){top:35%; left:60%; width:2px; height:2px; animation-delay: 1.2s;}
.layer2 span:nth-child(4){top:50%; left:75%; width:1px; height:1px; animation-delay: 1.7s;}
.layer2 span:nth-child(5){top:65%; left:90%; width:1.5px; height:1.5px; animation-delay: 0.6s;}
.layer2 span:nth-child(6){top:20%; left:30%; width:2px; height:2px; animation-delay: 1.0s;}
.layer2 span:nth-child(7){top:45%; left:55%; width:1px; height:1px; animation-delay: 0.1s;}
.layer2 span:nth-child(8){top:10%; left:85%; width:1.5px; height:1.5px; animation-delay: 1.4s;}
.layer2 span:nth-child(9){top:55%; left:40%; width:2px; height:2px; animation-delay: 0.5s;}
.layer2 span:nth-child(10){top:75%; left:60%; width:1px; height:1px; animation-delay: 1.6s;}
.layer2 span:nth-child(11){top:25%; left:70%; width:1.5px; height:1.5px; animation-delay: 0.7s;}

.layer3 span:nth-child(1){top:50%; left:75%; width:2px; height:2px; animation-delay: 0.1s;}
.layer3 span:nth-child(2){top:60%; left:80%; width:1px; height:1px; animation-delay: 0.6s;}
.layer3 span:nth-child(3){top:45%; left:70%; width:2px; height:2px; animation-delay: 1.1s;}
.layer3 span:nth-child(4){top:55%; left:85%; width:1.5px; height:1.5px; animation-delay: 0.3s;}
.layer3 span:nth-child(5){top:40%; left:60%; width:1px; height:1px; animation-delay: 0.9s;}
.layer3 span:nth-child(6){top:65%; left:90%; width:2px; height:2px; animation-delay: 1.4s;}
.layer3 span:nth-child(7){top:30%; left:50%; width:1.5px; height:1.5px; animation-delay: 0.7s;}
.layer3 span:nth-child(8){top:70%; left:95%; width:1px; height:1px; animation-delay: 1.6s;}
.layer3 span:nth-child(9){top:20%; left:40%; width:2px; height:2px; animation-delay: 0.4s;}
.layer3 span:nth-child(10){top:80%; left:65%; width:1.5px; height:1.5px; animation-delay: 1.0s;}
.layer3 span:nth-child(11){top:35%; left:55%; width:1px; height:1px; animation-delay: 1.2s;}
/* Example for layer30 (more spans): */
.layer30 span:nth-child(1){top:50%; left:75%; width:2px; height:2px; animation-delay: 0.1s;}
.layer30 span:nth-child(2){top:60%; left:80%; width:1px; height:1px; animation-delay: 0.6s;}
.layer30 span:nth-child(3){top:45%; left:70%; width:2px; height:2px; animation-delay: 1.1s;}
.layer30 span:nth-child(4){top:55%; left:85%; width:1.5px; height:1.5px; animation-delay: 0.3s;}
.layer30 span:nth-child(5){top:40%; left:60%; width:1px; height:1px; animation-delay: 0.9s;}
.layer30 span:nth-child(6){top:65%; left:90%; width:2px; height:2px; animation-delay: 1.4s;}
.layer30 span:nth-child(7){top:30%; left:50%; width:1.5px; height:1.5px; animation-delay: 0.7s;}
.layer30 span:nth-child(8){top:70%; left:95%; width:1px; height:1px; animation-delay: 1.6s;}
.layer30 span:nth-child(9){top:20%; left:40%; width:2px; height:2px; animation-delay: 0.4s;}
.layer30 span:nth-child(10){top:80%; left:65%; width:1.5px; height:1.5px; animation-delay: 1.0s;}
.layer30 span:nth-child(11){top:35%; left:55%; width:1px; height:1px; animation-delay: 1.2s;}

/* Twinkle animation (faster, more pronounced for lấp lánh) */
@keyframes twinkle {
    0% { opacity: 0.4; transform: scale(0.8) rotate(0deg); }
    25% { opacity: 0.8; transform: scale(1.2) rotate(90deg); }
    50% { opacity: 1; transform: scale(1.5) rotate(180deg); }
    75% { opacity: 0.8; transform: scale(1.2) rotate(270deg); }
    100% { opacity: 0.4; transform: scale(0.8) rotate(360deg); }
}

/* ===================== CLOUDS LAYERS (MORE DETAILED PUFFS, SOFT BLUR) ===================== */
.clouds-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 3;
    pointer-events: none;
    overflow: visible;
}

.cloud {
    position: absolute;
    background: rgba(255,255,255,0.1); /* Slightly brighter on black bg */
    border-radius: 50%;
    filter: blur(25px); /* Softer blur for detail */
    animation-name: moveCloud;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
}

.cloud div {
    position: absolute;
    background: inherit;
    border-radius: 50%;
}

/* More detailed cloud shapes (extra puffs for fluffiness) */
.cloud div:nth-child(1){width:50%; height:50%; top:0; left:10%;}
.cloud div:nth-child(2){width:60%; height:60%; top:10%; left:30%;}
.cloud div:nth-child(3){width:70%; height:70%; top:20%; left:50%;}
.cloud div:nth-child(4){width:40%; height:40%; top:30%; left:70%;}
.cloud div:nth-child(5){width:55%; height:55%; top:5%; left:20%;} /* Extra for detail */

/* Cloud movement */
@keyframes moveCloud {
  from {
    transform: translateX(-200%); /* bắt đầu từ ngoài bên trái */
  }
  to {
    transform: translateX(120vw); /* bay hết sang phải ngoài màn hình */
  }
}

.cloud {
  position: absolute;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 50%;
  animation-name: moveCloud;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

/* Layer-specific durations (TODO: Add more .layer-cloudX { animation-duration: Xs; }) */
.layer-cloud1 { animation-duration: 20s; }
.layer-cloud2 { animation-duration: 30s; }
.layer-cloud3 { animation-duration: 25s; }
.layer-cloud4 { animation-duration: 40s; }
.layer-cloud5 { animation-duration: 30s; }
.layer-cloud6 { animation-duration: 35s; }
.layer-cloud7 { animation-duration: 27s; }
.layer-cloud8 { animation-duration: 25s; }
.layer-cloud9 { animation-duration: 20s; }
.layer-cloud10 { animation-duration: 50s; }
.layer-cloud11 { animation-duration: 40s; }
.layer-cloud12 { animation-duration: 25s; }
.layer-cloud13 { animation-duration: 50s; }
.layer-cloud14 { animation-duration: 30s; }
.layer-cloud15 { animation-duration: 20s; }
/* ... up to layer-cloud10+ */

/* ===================== STARS LAYERS (TWINKLE + SHOOTING STARS, BRIGHTER ON BLACK, DIAGONAL FLY LIKE IMAGE) ===================== */
.stars-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 4;
    pointer-events: none;
}

/* Twinkling stars (brighter) */
.twinkle-star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: radial-gradient(circle, #fff 0%, #ffeb99 50%); /* Warmer glow */
    border-radius: 50%;
    animation: twinkle 2s infinite alternate;
    box-shadow: 0 0 6px rgba(255, 255, 255, 1); /* Stronger shadow */
}

/* Shooting stars (brighter tail, flowing diagonal like image with curve and fade) */
.shooting-star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 0 12px rgba(255, 255, 255, 1);
    animation: shootingStar linear infinite;
   
}

.shooting-star::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 200px; /* Longer, flowing tail */
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), #ffeb99, transparent);
    transform: translateX(-180px) rotate(45deg); /* Curved diagonal tail */
    border-radius: 50% 0 0 50%; /* Subtle curve */
    box-shadow: 0 0 8px rgba(255, 255, 255, 0.6);
}

@keyframes shootingStar {
    0% {
        transform: translateX(-150vw) translateY(150vh) rotate(-45deg) scale(0); /* Start small off-screen */
        opacity: 0;
    }
    10% {
        opacity: 1;
        transform: translateX(-100vw) translateY(100vh) rotate(-45deg) scale(1);
    }
    90% {
        opacity: 1;
        transform: translateX(100vw) translateY(-100vh) rotate(-45deg) scale(1);
    }
    100% {
        transform: translateX(150vw) translateY(-150vh) rotate(-45deg) scale(0); /* End small off-screen */
        opacity: 0;
    }
}

/* Shooting positions/delays (more, varied for flowing paths like image) */
.shooting1 { top: 5%; left: -10%; animation-duration: 8s; animation-delay: 0s; }
.shooting2 { top: 15%; left: -5%; animation-duration: 12s; animation-delay: 2s; transform: rotate(-60deg); }
.shooting3 { top: 25%; left: -15%; animation-duration: 10s; animation-delay: 5s; }
.shooting4 { top: 35%; left: -8%; animation-duration: 14s; animation-delay: 7s; transform: rotate(-30deg); }
.shooting5 { top: 45%; left: -12%; animation-duration: 11s; animation-delay: 10s; }
.shooting6 { top: 55%; left: -20%; animation-duration: 9s; animation-delay: 4s; transform: rotate(-50deg); }
.shooting7 { top: 65%; left: -3%; animation-duration: 13s; animation-delay: 6s; transform: rotate(-40deg); }

/* ===================== MOON (MORE DETAILED: CRATERS VIA INSET SHADOWS) ===================== */
.moon-container {
    position: absolute;
    top: 0;
    right: 0;
    z-index: 5;
}

.moon {
    position: absolute;
    top: 60px;
    right: 80px;
    width: 160px;
    height: 160px;
    background: radial-gradient(circle at 30% 30%, #fff8c9 0%, #f7e99e 30%, #fff2a3 60%, #f0e6d2 100%);
    border-radius: 50%;
    box-shadow: 
        0 0 50px 20px rgba(255,255,200,0.7), /* Brighter outer glow */
        0 0 100px 40px rgba(255,255,220,0.5),
        inset 20px -10px 20px rgba(240,230,210,0.4), /* Crater-like shadows */
        inset -30px 20px 25px rgba(240,230,210,0.3), /* More craters for detail */
        inset 0 0 50px 10px rgba(255,255,255,0.4); /* Inner glow */
    animation: moonGlow 4s infinite alternate;
}

.moon::before { /* Enhanced rim light/halo */
    content: '';
    position: absolute;
    top: -20px;
    left: -20px;
    width: 200px;
    height: 200px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,255,200,0.4) 0%, transparent 70%);
    z-index: -1;
    animation: haloPulse 6s infinite ease-in-out;
}

@keyframes moonGlow {
    0% { 
        box-shadow: 0 0 40px 15px rgba(255,255,200,0.6), 0 0 80px 30px rgba(255,255,220,0.4),
                    inset 20px -10px 20px rgba(240,230,210,0.4), inset -30px 20px 25px rgba(240,230,210,0.3),
                    inset 0 0 50px 10px rgba(255,255,255,0.4);
    }
    100% { 
        box-shadow: 0 0 60px 25px rgba(255,255,200,0.8), 0 0 120px 50px rgba(255,255,220,0.6),
                    inset 20px -10px 20px rgba(240,230,210,0.5), inset -30px 20px 25px rgba(240,230,210,0.4),
                    inset 0 0 50px 10px rgba(255,255,255,0.5);
    }
}

@keyframes haloPulse {
    0%, 100% { opacity: 0.6; transform: scale(1); }
    50% { opacity: 0.9; transform: scale(1.1); }
}

/* ===================== GREETING / GUIDE TEXT (GLOWING) ===================== */
.greeting-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 6;
    pointer-events: none;
}

.greeting {
    position: absolute;
    top: 120px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 36px;
    font-weight: bold;
    color: #fff;
    text-align: center;
    text-shadow: 
        0 0 12px #ffcc66,
        0 0 24px #ffaa00,
        0 0 36px #fff6b3;
    animation: glowText 3s infinite alternate;
}

@keyframes glowText {
    0% { text-shadow: 0 0 12px #ffcc66, 0 0 24px #ffaa00, 0 0 36px #fff6b3; }
    100% { text-shadow: 0 0 20px #fff6b3, 0 0 40px #ffcc66, 0 0 60px #ffaa00; }
}

.guide {
    position: absolute;
    top: 20px;
    width: 100%;
    text-align: center;
    font-size: 18px;
    color: #ffd88d;
    text-shadow: 0 0 8px #ffb36b;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
}

/* ===================== HẰNG CONTAINER (TREES AND CHỊ HẰNG) ===================== */
.hằng-container {
    position: absolute;
    bottom: 0;
    right: 20px;
    z-index: 7.5;
    display: flex;
    align-items: flex-end;
    gap: 20px;
}

.tree-left, .tree-right {
    width: 60px;
    height: 150px;
    filter: drop-shadow(0 0 5px rgba(34, 139, 34, 0.5));
    animation: treeSway 6s infinite ease-in-out;
}

@keyframes treeSway {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(2deg); }
}

.hằng {
    width: 120px;
    height: 200px;
    filter: drop-shadow(0 0 10px rgba(255, 105, 180, 0.6));
    animation: hằngFloat 4s infinite ease-in-out;
}

@keyframes hằngFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}

/* ===================== RABBIT CHARACTER (LARGER SIZE, SUBTLE GLOW, NO SQUARE BORDER, SPARKLY DETAILS) ===================== */
.character-container {
    position: absolute;
    bottom: 20px; /* Adjusted for larger size */
    left: 40px;
    z-index: 7;
}

.rabbit {
    width: 200px; /* Even larger */
    height: 300px;
    animation: bunnyHop 3s infinite ease-in-out;
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.6)) drop-shadow(0 0 16px rgba(255, 229, 240, 0.4)); /* Subtle, non-square glow */
    overflow: visible; /* Prevent clipping */
}

.rabbit path, .rabbit ellipse, .rabbit circle, .rabbit polygon, .rabbit line {
    filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.3)); /* Very subtle inner sparkle */
    transition: all 0.3s ease; /* Smooth transitions for details */
}

/* Rabbit sparkles (small twinkling dots) */
.rabbit-sparkle {
    animation: sparkle 2s infinite alternate; /* Lấp lánh animation */
    opacity: 0.7;
}

@keyframes sparkle {
    0% { opacity: 0.3; transform: scale(0.5); }
    100% { opacity: 1; transform: scale(1.2); }
}

/* Eye sparkles (subtle pulse) */
.eye-sparkle {
    animation: eyeSparkle 3s infinite ease-in-out;
}

@keyframes eyeSparkle {
    0%, 100% { opacity: 0.9; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.3); }
}

/* Whisker twitch */
.whisker {
    animation: whiskerTwitch 1.5s infinite alternate;
}

@keyframes whiskerTwitch {
    0% { stroke-opacity: 0.8; }
    100% { stroke-opacity: 1; }
}

/* Ear wiggles (more pronounced for larger ears) */
.ear-left, .ear-right {
    animation: earWiggle 2s infinite ease-in-out;
}

@keyframes bunnyHop {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-30px); } /* Higher hop for larger size */
}

@keyframes earWiggle {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(10deg); } /* More wiggle */
}

/* Bow enhancements (larger, more glow, inspired by image) */
.bow {
    filter: drop-shadow(0 0 10px rgba(255, 179, 204, 0.7)) drop-shadow(0 0 15px rgba(255, 153, 204, 0.5)); /* Subtle pink glow */
    animation: bowSwing 4s infinite ease-in-out;
}

.bow path, .bow ellipse, .bow circle, .bow polygon {
    filter: drop-shadow(0 0 4px rgba(255, 179, 204, 0.6));
}

@keyframes bowSwing {
    0% { transform: rotate(0deg) scale(1); }
    25% { transform: rotate(10deg) scale(1.1); }
    50% { transform: rotate(0deg) scale(1); }
    75% { transform: rotate(-10deg) scale(1.1); }
    100% { transform: rotate(0deg) scale(1); }
}

/* ===================== LANTERNS (FLOATING, GLOW, LARGER SIZE, RED STYLE WITH FRINGES) ===================== */
.lanterns-container {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 8;
    pointer-events: none;
}

.lantern {
    position: absolute;
    bottom: 0;
    cursor: pointer;
    pointer-events: all;
    animation: floatLantern linear forwards;
    filter: drop-shadow(0 0 10px #ffd88d);
    width: 100px; /* Larger base size */
    height: 180px; /* Taller for fringes */
}

.lantern:hover {
    filter: drop-shadow(0 0 20px #ffeb99) drop-shadow(0 0 30px #ffc966);
}

@keyframes floatLantern {
    0% { transform: translateY(0) rotate(0deg); opacity: 0; }
    15% { opacity: 1; }
    50% { transform: translateY(-50vh) rotate(10deg); opacity: 0.9; }
    75% { transform: translateY(-80vh) rotate(-10deg); opacity: 0.7; }
    100% { transform: translateY(-100vh) rotate(0deg); opacity: 0; }
}

/* Lantern SVG base (detailed in JS, with red color and fringes) */
.lantern svg {
    width: 100%;
    height: 100%;
}

.lantern svg rect, .lantern svg path {
    transition: all 0.3s ease;
}

/* ===================== RELEASE BUTTON (LARGER) ===================== */
.release-btn {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #ffb36b;
    border: none;
    color: #fff;
    padding: 15px 30px; /* Larger padding */
    font-size: 18px; /* Larger font */
    border-radius: 15px; /* Slightly larger radius */
    cursor: pointer;
    box-shadow: 0 0 12px rgba(255,179,107,0.8);
    z-index: 9;
    transition: all 0.3s;
}

.release-btn:hover {
    background: #ff9c42;
    box-shadow: 0 0 20px rgba(255,179,107,1);
}

/* ===================== POPUP (PERSISTENT UNTIL EXPLICIT CLOSE, NO AUTO-HIDE) ===================== */
.overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.7);
    z-index: 1000;
    backdrop-filter: blur(5px);
}

.popup {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255,255,255,0.95);
    padding: 20px;
    border-radius: 20px;
    box-shadow: 0 0 40px rgba(238, 85, 192, 0.8);
    text-align: center;
    z-index: 1001;
    max-width: 300px;
    animation: popupShow 0.5s ease-out;
}

.popup img {
    width: 100%;
    aspect-ratio: 5/8;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(255,200,100,0.5);
    margin-bottom: 15px;
}

.wish-text {
    font-size: 16px;
    color: #333;
    text-shadow: 0 0 5px #ffeb99;
    animation: wishGlow 2s infinite alternate;
    margin-bottom: 15px;
}

@keyframes wishGlow {
    0% { text-shadow: 0 0 5px #ffeb99; }
    100% { text-shadow: 0 0 10px #ffc966, 0 0 15px #ffaa00; }
}

.popup-buttons {
    display: flex;
    gap: 10px;
    justify-content: center;
}

.next-btn, .close-btn {
    padding: 8px 16px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
}

.next-btn {
    background: #ff9c42;
    color: #fff;
    box-shadow: 0 0 10px rgba(255,156,66,0.6);
}

.next-btn:hover {
    background: #ff7b00;
    box-shadow: 0 0 15px rgba(255,156,66,0.8);
}

.close-btn {
    background: #ccc;
    color: #333;
}

.close-btn:hover {
    background: #aaa;
}

@keyframes popupShow {
    0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
    100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
}

/* ===================== RESPONSIVE ===================== */
@media (max-width: 768px) {
    .greeting { font-size: 28px; }
    .moon { width: 120px; height: 120px; right: 20px; top: 20px; }
    .rabbit { width: 180px; height: 288px; left: 20px; bottom: 20px; } /* Scaled down proportionally */
    .lantern { width: 80px; height: 140px; } /* Scaled lantern */
    .release-btn { padding: 12px 24px; font-size: 16px; } /* Adjusted larger for mobile */
    .popup { max-width: 90%; padding: 15px; }
    .hằng-container { right: 10px; gap: 10px; }
    .tree-left, .tree-right { width: 40px; height: 120px; }
    .hằng { width: 100px; height: 160px; }
}

/* ===================== ADDITIONAL GLOW LAYERS (TODO: Add more body::before/::after for effects) ===================== */
body::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 50% 40%, rgba(255,255,200,0.05) 0%, transparent 80%);
    z-index: 0;
    pointer-events: none;
}

/* Smooth transitions */
* { transition: all 0.3s ease; }

.twinkle-star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  box-shadow: 0 0 6px #fff, 0 0 12px #fff, 0 0 18px #ffddaa;
}

.twinkle-star {
  box-shadow: 0 0 6px #fff, 0 0 12px #fff, 0 0 18px #ffddaa;
}

/* TODO: More CSS for layers/glows (expand to ~1000 lines with full nth-child for galaxies/clouds) */